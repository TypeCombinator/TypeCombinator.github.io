<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en-us">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>浅谈C&#43;&#43;最佳异步范式 - TypeCombinator Home</title><meta name="author" content="TypeCombinator">
<meta name="description" content="「C&#43;&#43;老仙，法力无边，攻无不克，战无不胜！」—— 来自一名C&#43;&#43;杂兵
CPS&#43;Monad future/promise&#43;then链：过去式，eager模式，类型擦除 std::exectution：未来式，lazy模式，类型安全 "><meta name="keywords" content='blog'>
  <meta itemprop="name" content="浅谈C&#43;&#43;最佳异步范式">
  <meta itemprop="description" content="「C&#43;&#43;老仙，法力无边，攻无不克，战无不胜！」—— 来自一名C&#43;&#43;杂兵
CPS&#43;Monad future/promise&#43;then链：过去式，eager模式，类型擦除 std::exectution：未来式，lazy模式，类型安全">
  <meta itemprop="datePublished" content="2025-09-18T09:30:00+08:00">
  <meta itemprop="dateModified" content="2025-09-18T09:30:00+08:00">
  <meta itemprop="wordCount" content="50">
  <meta itemprop="keywords" content="Blog"><meta property="og:url" content="https://typecombinator.github.io/posts/94eb77e/">
  <meta property="og:site_name" content="TypeCombinator Home">
  <meta property="og:title" content="浅谈C&#43;&#43;最佳异步范式">
  <meta property="og:description" content="「C&#43;&#43;老仙，法力无边，攻无不克，战无不胜！」—— 来自一名C&#43;&#43;杂兵
CPS&#43;Monad future/promise&#43;then链：过去式，eager模式，类型擦除 std::exectution：未来式，lazy模式，类型安全">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-09-18T09:30:00+08:00">
    <meta property="article:modified_time" content="2025-09-18T09:30:00+08:00">
    <meta property="article:tag" content="Blog">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="浅谈C&#43;&#43;最佳异步范式">
  <meta name="twitter:description" content="「C&#43;&#43;老仙，法力无边，攻无不克，战无不胜！」—— 来自一名C&#43;&#43;杂兵
CPS&#43;Monad future/promise&#43;then链：过去式，eager模式，类型擦除 std::exectution：未来式，lazy模式，类型安全">
<meta name="application-name" content="FixIt">
<meta name="apple-mobile-web-app-title" content="FixIt"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" type="text/html" href="https://typecombinator.github.io/posts/94eb77e/" title="浅谈C&#43;&#43;最佳异步范式 - TypeCombinator Home" /><link rel="prev" type="text/html" href="https://typecombinator.github.io/posts/8a1e6a3/" title="用Zig语言实现mock_head" /><link rel="alternate" type="text/markdown" href="https://typecombinator.github.io/posts/94eb77e/index.md" title="浅谈C++最佳异步范式 - TypeCombinator Home"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "浅谈C++最佳异步范式",
    "inLanguage": "en-us",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https:\/\/typecombinator.github.io\/posts\/94eb77e\/"
    },"genre": "posts","keywords": "blog","wordcount":  50 ,
    "url": "https:\/\/typecombinator.github.io\/posts\/94eb77e\/","datePublished": "2025-09-18T09:30:00+08:00","dateModified": "2025-09-18T09:30:00+08:00","publisher": {
      "@type": "Organization",
      "name": ""},"author": {
        "@type": "Person",
        "name": "TypeCombinator"
      },"description": ""
  }
  </script><script src="/js/head/color-scheme.min.js"></script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><div class="wrapper" data-page-style="normal"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="TypeCombinator Home"><span class="header-title-text">TypeCombinator Home</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a class="menu-link" href="/archives/"><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> Archives</a></li><li class="menu-item">
              <a class="menu-link" href="/categories/"><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> Categories</a></li><li class="menu-item">
              <a class="menu-link" href="/tags/"><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> Tags</a></li><li class="menu-item delimiter"></li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="TypeCombinator Home"><span class="header-title-text">TypeCombinator Home</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="menu-item"><a class="menu-link" href="/archives/"><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> Archives</a></li><li class="menu-item"><a class="menu-link" href="/categories/"><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> Categories</a></li><li class="menu-item"><a class="menu-link" href="/tags/"><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> Tags</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="切换主题"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><main class="container"><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="合集"></aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span title="转载" class="icon-repost"><i class="fa-solid fa-share fa-fw" aria-hidden="true"></i></span><span>浅谈C&#43;&#43;最佳异步范式</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><a href="https://github.com/TypeCombinator" title="作者"target="_blank" rel="external nofollow noopener noreferrer author" class="author"><img class="avatar" src='https://github.com/TypeCombinator.png' alt="TypeCombinator" height="16" width="16">&nbsp;TypeCombinator</a></span><span class="post-included-in">&nbsp;收录于 <a href="/categories/c++/" class="post-category" title="分类 - C++"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> C++</a></span></div><div class="post-meta-line"><span title="发布于 2025-09-18 09:30:00"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden="true"></i><time datetime="2025-09-18">2025-09-18</time></span>&nbsp;<span title="50 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>约 100 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>预计阅读 1 分钟</span>&nbsp;</div>
    </div><div class="details toc" id="toc-static" data-kept="false">
        <div class="details-summary toc-title">
          <span>目录</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#cpsmonad">CPS+Monad</a>
      <ul>
        <li><a href="#类型安全的收益">类型安全的收益</a></li>
        <li><a href="#类型安全的代价">类型安全的代价</a></li>
      </ul>
    </li>
    <li><a href="#能不能避免cps或monad">能不能避免CPS或Monad？！</a>
      <ul>
        <li><a href="#无栈协程有传染性">无栈协程有传染性？</a></li>
      </ul>
    </li>
    <li><a href="#能统一吗">能统一吗？</a></li>
    <li><a href="#c26能带来希望的曙光吗">C++26能带来希望的曙光吗？</a></li>
    <li><a href="#追寻各自的光">追寻各自的光</a></li>
  </ul>
</nav></div>
      </div><div class="content" id="content"><p><em>「C++老仙，法力无边，攻无不克，战无不胜！」</em>—— 来自一名C++杂兵</p>
<h2 class="heading-element" id="cpsmonad"><span>CPS+Monad</span>
  <a href="#cpsmonad" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><ul>
<li>future/promise+then链：过去式，eager模式，类型擦除</li>
<li><code> std::exectution</code>：未来式，lazy模式，类型安全</li>
</ul>
<h3 class="heading-element" id="类型安全的收益"><span>类型安全的收益</span>
  <a href="#%e7%b1%bb%e5%9e%8b%e5%ae%89%e5%85%a8%e7%9a%84%e6%94%b6%e7%9b%8a" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>保留了完整的编译期信息，利于优化，函数容易内联，可以避免动态内存分配，性能上限高。</p>
<h3 class="heading-element" id="类型安全的代价"><span>类型安全的代价</span>
  <a href="#%e7%b1%bb%e5%9e%8b%e5%ae%89%e5%85%a8%e7%9a%84%e4%bb%a3%e4%bb%b7" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Monad会导致产生大量复杂的中间类型，类型嵌套可能非常深，这些类型是又广又深，人和编译器都表示压力很大啊！实践起来还是需要一些类型擦除！</p>
<h2 class="heading-element" id="能不能避免cps或monad"><span>能不能避免CPS或Monad？！</span>
  <a href="#%e8%83%bd%e4%b8%8d%e8%83%bd%e9%81%bf%e5%85%8dcps%e6%88%96monad" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p><strong>协程！启动！</strong></p>
<ul>
<li>有栈协程：不同指令集的平台需要适配，大多有现成，可以直接copy，栈大小需要权衡，太大了浪费内存，太小了容易爆栈，函数调用照常，协程切换稍慢，适合CPU密集任务</li>
<li>无栈协程：类型擦除，默认动态分配，链式维护父子调用，原始调用栈丢失，调试麻烦，链式返回比普通函数返回慢，且调用开销比普通函数大，调用链越长则开销越多，但是协程切换快，适合IO密集任务</li>
</ul>
<h3 class="heading-element" id="无栈协程有传染性"><span>无栈协程有传染性？</span>
  <a href="#%e6%97%a0%e6%a0%88%e5%8d%8f%e7%a8%8b%e6%9c%89%e4%bc%a0%e6%9f%93%e6%80%a7" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>先手动狗头，TCP还会粘包呢！协程调用普通函数，再想通过该普通函数再调协程？可是普通函数不能直接暂停和恢复啊，CPS和协程总要选一个吧？再换个角度，普通函数的栈在哪里，有栈协程怎么就没有这个问题？那是因为用有栈协程，普通函数就已经获得了随时暂停和恢复的能力。</p>
<p><code>std::execution</code>可以把有栈和无栈协程也纳入进去啊？可是……实现太复杂了，只想用协程！可是……单一种类的协程不够用？那把有栈和无栈协程混合起来！可是……fork和join不好用，想要when_all和when_any之类的组合子怎么办？<strong>Monad又回来了</strong>！</p>
<h2 class="heading-element" id="能统一吗"><span>能统一吗？</span>
  <a href="#%e8%83%bd%e7%bb%9f%e4%b8%80%e5%90%97" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>就像物理学家想找到统一万物的理论一样，程序员也在不断地尝试找到各种问题的统一方案，但是统一和谐的外表下通常隐藏着复杂和冲突，你以为你开的是一辆汽车，可是某一天他开始变身，成了一个变形金刚，此刻才发觉自己竟从未驾驭！试问，万物统一理论会是弦论吗？异步的最佳范式会是<code>std::execution</code>吗？</p>
<p>异步的最佳范式是什么？协程也不是不能用！</p>
<p>运行时多态的最佳范式是什么？虚函数也不是不能用！</p>
<p>错误处理的最佳范式是什么？错误码也不是不能用！</p>
<p>……</p>
<p>现代C++已经被函数式玩坏了，CPS和Monad这些函数式语言的基础操作，怎么到了C++里面实现起来就这么复杂？因为C++的元编程是被发现而不是设计好的，几乎没法打直球，所有的代码生成和类型计算都需要以一种<strong>间接且蹩脚的函数式编程</strong>来实现，函数式再叠函数式可不得让人抓狂！</p>
<p>Monad需要用到product type、sum type等基础设施，以<code>std::variant</code>为例，试问有办法不通过递归union得到一个支持任意个数类型且能编译期使用的实现吗？线性递归union导致模板类实例化太深！那改成二叉树形式递归能降低实例化深度吗？于是，绞尽脑汁，写了一段难以维护的代码，所幸，还是收获到了编译速度的提升，输入更多的类型编译器也不罢工了，此时，你获得了短暂的颅内高潮，再点上一只烟，贤者真身现！编译期有那么重要吗？写个只支持运行时的丐版也不是不能用！</p>
<h2 class="heading-element" id="c26能带来希望的曙光吗"><span>C++26能带来希望的曙光吗？</span>
  <a href="#c26%e8%83%bd%e5%b8%a6%e6%9d%a5%e5%b8%8c%e6%9c%9b%e7%9a%84%e6%9b%99%e5%85%89%e5%90%97" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>也许吧！到时候，<code>std::execution</code>会获得代码的简化，编译速度的提升，但是会好多少，不能确定，让我们拭目以待！但无论如何，Monad带来的问题都不会消失！C++的类型系统非常强大，但又十分复杂，先借用《SICP》里的一句话：</p>
<p><em>「The evaluator, which determines the meaning of expressions in a programming language, is just another program.」</em></p>
<p><strong>解释器或编译器也不过是另外一种程序</strong>，再借用《黑客与画家》的“格林斯潘第十定律”：</p>
<p><em>「任何C或Fortran程序复杂到一定程度之后，都会包含一个临时开发的、只有一半功能的、不完全符合规格的、到处都是bug的、运行速度很慢的Common Lisp实现。」</em></p>
<p>在C++里面使用元编程，首先的体验就是编译缓慢，然后容易遇到的现象就是，当前编译器版本有Bug，需要升级到更新的版本，或是遇到3大编译器表现不一致，一个能编译通过，另外一个又编译报错，此时不得不尝试规避，奇迹淫巧又增加了！有时候不禁让人联想，<strong>在C++编译器里面塞一个优化好的Lisp解释器做编译期计算能不能行？</strong></p>
<h2 class="heading-element" id="追寻各自的光"><span>追寻各自的光</span>
  <a href="#%e8%bf%bd%e5%af%bb%e5%90%84%e8%87%aa%e7%9a%84%e5%85%89" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p><code>std::execution</code>在大多数人的手里都是变形金刚，很酷，但难以驾驭，在少数人手里是高达，能运用自如。我们必须考虑当下，考虑语言和编译器的限制，考虑自己的使用场景，大多数时候，ASIO或者Folly够用了，再想简化，自制协程库也不是不行，毕竟C++里面的每个语言特性，以及每个库，不理清其实现原理，不尝试copy一遍，用出问题也很正常！然后，有的人骑自行车，有的人开高达，合适的才是最佳的，在C++的世界里，分裂才是常态，但我们都在<strong>追寻各自的光</strong>！</p></div><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title="更新于 2025-09-18 09:30:00">更新于 2025-09-18&nbsp;</span>
      </div></div><div class="post-info-line">
        <div class="post-info-md"><span><a href="/posts/94eb77e/index.md" title="阅读原始文档" class="link-to-markdown">阅读原始文档</a></span></div>
        <div class="post-info-share">
          <span><a href="javascript:void(0);" title="分享到 X" data-sharer="twitter" data-url="https://typecombinator.github.io/posts/94eb77e/" data-title="浅谈C&#43;&#43;最佳异步范式" data-hashtags="blog"><i class="fa-brands fa-x-twitter fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://typecombinator.github.io/posts/94eb77e/" data-hashtag="blog"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://typecombinator.github.io/posts/94eb77e/" data-title="浅谈C&#43;&#43;最佳异步范式"><i class="fa-brands fa-weibo fa-fw" aria-hidden="true"></i></a>
  </span>
        </div>
      </div></div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href="/tags/blog/" class="post-tag" title="标签 - Blog">Blog</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
    </section>
  </div><div class="post-nav"><a href="/posts/8a1e6a3/" class="post-nav-item" rel="prev" title="用Zig语言实现mock_head"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>用Zig语言实现mock_head</a></div>
</div>
</article>

  <aside class="toc" id="toc-auto" aria-label="目录"><h2 class="toc-title">目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content" id="toc-content-auto"></div></aside></main><footer class="footer">
    <div class="footer-container"><div class="footer-line powered">由 <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreferrer" title="Hugo 0.147.5"><img class="hugo-icon" src="/images/hugo.min.svg" alt="Hugo logo" /> Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/hugo-fixit/FixIt" target="_blank" rel="external" title="FixIt v0.3.20"><img class="fixit-icon" src="/images/fixit.min.svg" alt="FixIt logo" /> FixIt</a>
        </div><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2025</span><span class="author" itemprop="copyrightHolder">
              <a href="https://github.com/TypeCombinator"target="_blank" rel="external nofollow noopener noreferrer">TypeCombinator</a></span></div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="回到顶部"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">该网站在启用 JavaScript 的情况下效果最佳。</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/sharer/sharer.min.js" async defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","editLockTitle":"锁定可编辑代码块","editUnLockTitle":"解锁可编辑代码块","editable":true,"maxShownLines":1000},"comment":{"enable":false},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验。"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"version":"v0.3.20"};</script><script src="/js/theme.min.js" defer></script></body>
</html>
